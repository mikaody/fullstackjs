"use strict";(self.webpackChunkstarter_project_angular_last_version=self.webpackChunkstarter_project_angular_last_version||[]).push([[377],{9377:(j,Z,a)=>{a.r(Z),a.d(Z,{UserModule:()=>O});var d=a(6895),l=a(6773),i=a(433),e=a(8256),u=a(9623);let v=(()=>{class r{constructor(n){this.us=n,this.user={_id:"",email:"",password:""},this.validationForm=new i.cw({_id:new i.NI(localStorage.getItem("userId"),i.kI.required),email:new i.NI(localStorage.getItem("email"),i.kI.required),password:new i.NI(localStorage.getItem("password"),i.kI.required)})}ngOnInit(){}goToUserList(){this.us.goToUserList()}onDeleteUser(){this.us.deleteUserSure(this.user).subscribe(n=>{console.log(n)},n=>{console.log(n)},()=>{console.log("Done deleting user."),alert("User deleted!"),setTimeout(()=>this.goToUserList(),2e3)})}onSubmit(){this.user=this.validationForm.value,this.onDeleteUser()}get _id(){return this.validationForm.get("_id")}get email(){return this.validationForm.get("email")}get password(){return this.validationForm.get("password")}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(u.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-delete"]],decls:17,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12"],[1,"col-md-6"],["type","hidden","formControlName","_id","name","_id","id","_id"],["type","hidden","formControlName","password","name","password","id","password"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa","fa-envelope"],["readonly","","type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon1","formControlName","email","mdbValidate","","mdbInput","",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-4","btn","btn-danger","m-2"],["type","button",1,"btn","btn-primary","mt-4","btn","btn-primary","m-2",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2)(3,"p"),e._uU(4,"Confirmation to delete?"),e.qZA()()(),e.TgZ(5,"div",1)(6,"div",3),e._UZ(7,"input",4)(8,"input",5),e.TgZ(9,"div",6)(10,"span",7),e._UZ(11,"i",8),e.qZA(),e._UZ(12,"input",9),e.qZA()()(),e.TgZ(13,"button",10),e._uU(14,"Yes"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return t.goToUserList()}),e._uU(16,"No"),e.qZA()()),2&n&&e.Q6J("formGroup",t.validationForm)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),r})();function U(r,o){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.qZA())}function b(r,o){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",24),e.qZA())}function h(r,o){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.qZA())}function C(r,o){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",24),e.qZA())}function y(r,o){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.qZA())}function T(r,o){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",24),e.qZA())}function q(r,o){1&r&&(e.TgZ(0,"p",25),e._uU(1,"Username is required"),e.qZA())}function w(r,o){1&r&&(e.TgZ(0,"p",25),e._uU(1,"Email is required"),e.qZA())}const m=function(r){return{"border border-danger text-danger":r}},p=function(r){return{"border border-danger":r}};let A=(()=>{class r{constructor(n){this.us=n,this.user={_id:"",email:"",password:""},this.validationForm=new i.cw({_id:new i.NI(localStorage.getItem("userId"),i.kI.required),username:new i.NI(localStorage.getItem("username"),i.kI.required),email:new i.NI(localStorage.getItem("email"),i.kI.required),password:new i.NI(localStorage.getItem("password"),i.kI.required),address:new i.NI(null,i.kI.required),city:new i.NI(null),country:new i.NI(null)})}ngOnInit(){}onUpdateUser(){this.user=this.validationForm.value,this.us.updateUser(this.user).subscribe(n=>{console.log(n)},n=>{console.log(n)},()=>{console.log("Done updating user."),this.us.goToUserList()})}onSubmit(){this.onUpdateUser()}get _id(){return this.validationForm.get("_id")}get username(){return this.validationForm.get("username")}get email(){return this.validationForm.get("email")}get password(){return this.validationForm.get("password")}get address(){return this.validationForm.get("address")}get city(){return this.validationForm.get("city")}get country(){return this.validationForm.get("country")}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(u.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-edit"]],decls:41,vars:27,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],["type","hidden","formControlName","_id","name","_id","id","_id"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text",3,"ngClass"],["type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1","formControlName","username","required","",1,"form-control",3,"ngClass"],["class","m-1",4,"ngIf"],[1,"fa","fa-envelope"],["type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon1","formControlName","email","required","",1,"form-control",3,"ngClass"],[1,"fa","fa-lock"],["type","password","placeholder","password","aria-label","Password","aria-describedby","basic-addon1","formControlName","password","mdbValidate","","mdbInput","","required","",1,"form-control",3,"ngClass"],["id","basic-addon1",1,"input-group-text"],[1,"fa","fa-map-marker"],["type","text","placeholder","Address","aria-label","Address","aria-describedby","basic-addon1","formControlName","address",1,"form-control"],[1,"fa","fa-map"],["type","text","placeholder","City","aria-label","City","aria-describedby","basic-addon1","formControlName","city",1,"form-control"],[1,"far","fa-map"],["type","text","placeholder","Country","aria-label","Country","aria-describedby","basic-addon1","formControlName","country",1,"form-control"],[1,"col-12"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-4"],[1,"m-1"],[1,"fa","fa-close","text-danger"],[1,"fa","fa-check","text-success"],[1,"text-danger"]],template:function(n,t){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"input",3),e.TgZ(4,"div",4)(5,"span",5),e._uU(6,"@"),e.qZA(),e._UZ(7,"input",6),e.YNc(8,U,2,0,"div",7),e.YNc(9,b,2,0,"div",7),e.qZA(),e.TgZ(10,"div",4)(11,"span",5),e._UZ(12,"i",8),e.qZA(),e._UZ(13,"input",9),e.YNc(14,h,2,0,"div",7),e.YNc(15,C,2,0,"div",7),e.qZA(),e.TgZ(16,"div",4)(17,"span",5),e._UZ(18,"i",10),e.qZA(),e._UZ(19,"input",11),e.YNc(20,y,2,0,"div",7),e.YNc(21,T,2,0,"div",7),e.qZA(),e.TgZ(22,"div",4)(23,"span",12),e._UZ(24,"i",13),e.qZA(),e._UZ(25,"input",14),e.qZA()(),e.TgZ(26,"div",2)(27,"div",4)(28,"span",12),e._UZ(29,"i",15),e.qZA(),e._UZ(30,"input",16),e.qZA(),e.TgZ(31,"div",4)(32,"span",12),e._UZ(33,"i",17),e.qZA(),e._UZ(34,"input",18),e.qZA()()(),e.TgZ(35,"div",1)(36,"div",19),e.YNc(37,q,2,0,"p",20),e.YNc(38,w,2,0,"p",20),e.qZA()(),e.TgZ(39,"button",21),e._uU(40,"Save"),e.qZA()()),2&n&&(e.Q6J("formGroup",t.validationForm),e.xp6(5),e.Q6J("ngClass",e.VKq(15,m,t.username.invalid&&(t.username.dirty||t.username.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(17,p,t.username.invalid&&(t.username.dirty||t.username.touched))),e.xp6(1),e.Q6J("ngIf",t.username.invalid&&(t.username.dirty||t.username.touched)),e.xp6(1),e.Q6J("ngIf",t.username.valid&&(t.username.dirty||t.username.touched)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,m,t.email.invalid&&(t.email.dirty||t.email.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(21,p,t.email.invalid&&(t.email.dirty||t.email.touched))),e.xp6(1),e.Q6J("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)),e.xp6(1),e.Q6J("ngIf",t.email.valid&&(t.email.dirty||t.email.touched)),e.xp6(2),e.Q6J("ngClass",e.VKq(23,m,t.password.invalid&&(t.password.dirty||t.password.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(25,p,t.password.invalid&&(t.password.dirty||t.password.touched))),e.xp6(1),e.Q6J("ngIf",t.password.invalid&&(t.password.dirty||t.password.touched)),e.xp6(1),e.Q6J("ngIf",t.password.valid&&(t.password.dirty||t.password.touched)),e.xp6(16),e.Q6J("ngIf",t.username.invalid&&(t.username.dirty||t.username.touched)),e.xp6(1),e.Q6J("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)))},dependencies:[d.mk,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),r})();var I=a(5861);function N(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",10),e._UZ(3,"img",11),e.TgZ(4,"div",12)(5,"p",13),e._uU(6,"zah ihany"),e.qZA(),e.TgZ(7,"p",14),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"p",15),e._uU(11,"Software engineer"),e.qZA(),e.TgZ(12,"p",14),e._uU(13,"IT department"),e.qZA()(),e.TgZ(14,"td")(15,"span",16),e._uU(16,"Active"),e.qZA()(),e.TgZ(17,"td"),e._uU(18,"Senior"),e.qZA(),e.TgZ(19,"td")(20,"div",17)(21,"button",18),e.NdJ("click",function(){const f=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.us.editUser(f))}),e._UZ(22,"i",19),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){const f=e.CHM(n).$implicit,_=e.oxw();return e.KtG(_.us.deleteUser(f))}),e._UZ(24,"i",20),e.qZA()()()()}if(2&r){const n=o.$implicit;e.xp6(8),e.Oqu(n.email)}}const J=function(r){return{"d-none":r}};let F=(()=>{class r{constructor(n){this.us=n,this.users=[],this.isPending=!0}onGetUsers(){var n=this;this.us.getAllUsers().subscribe(function(){var t=(0,I.Z)(function*(s){n.isPending=!0,n.users=yield s});return function(s){return t.apply(this,arguments)}}(),t=>{console.log(t)},()=>{console.log("Done retrieving data."),this.isPending=!1})}ngOnInit(){this.onGetUsers(),localStorage.setItem("userId","")}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(u.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],decls:33,vars:4,consts:[[1,"table","align-middle","mb-0","bg-white"],[1,"bg-light"],[4,"ngFor","ngForOf"],[3,"ngClass"],["colspan","4"],["role","status",1,"spinner-border","mx-3","me-0","mb-0",2,"width","1rem","height","1rem"],[1,"visually-hidden"],[1,"d-flex","justify-content-center"],["routerLink","/dashboard/user/create",1,"btn","btn-link","btn-rounded"],[1,"fa","fa-2x","fa-plus-circle"],[1,"d-flex","align-items-center"],["src","https://mdbootstrap.com/img/new/avatars/8.jpg","alt","",1,"rounded-circle",2,"width","45px","height","45px"],[1,"ms-3"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-0"],[1,"fw-normal","mb-1"],[1,"badge","badge-success","rounded-pill","d-inline"],[1,"d-flex"],["type","button","mdbRipple","","rippleColor","dark",1,"btn","btn-link","btn-rounded","btn-sm","fw-bold",3,"click"],[1,"fa","fa-pen"],[1,"fa","fa-trash"]],template:function(n,t){1&n&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Title"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Status"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Position"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Actions"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,N,25,1,"tr",2),e.TgZ(15,"tr",3)(16,"td",4)(17,"div",5)(18,"span",6),e._uU(19,"Loading..."),e.qZA()()()(),e.TgZ(20,"tr")(21,"td"),e._uU(22,"---"),e.qZA(),e.TgZ(23,"td"),e._uU(24,"---"),e.qZA(),e.TgZ(25,"td"),e._uU(26,"---"),e.qZA(),e.TgZ(27,"td"),e._uU(28,"---"),e.qZA(),e.TgZ(29,"td")(30,"div",7)(31,"a",8),e._UZ(32,"i",9),e.qZA()()()()()()),2&n&&(e.xp6(14),e.Q6J("ngForOf",t.users),e.xp6(1),e.Q6J("ngClass",e.VKq(2,J,!t.isPending)))},dependencies:[d.mk,d.sg,l.yS]}),r})();function Q(r,o){1&r&&(e.TgZ(0,"div",21),e._UZ(1,"i",22),e.qZA())}function S(r,o){1&r&&(e.TgZ(0,"div",21),e._UZ(1,"i",23),e.qZA())}function k(r,o){1&r&&(e.TgZ(0,"div",21),e._UZ(1,"i",22),e.qZA())}function Y(r,o){1&r&&(e.TgZ(0,"div",21),e._UZ(1,"i",23),e.qZA())}function E(r,o){1&r&&(e.TgZ(0,"div",21),e._UZ(1,"i",22),e.qZA())}function V(r,o){1&r&&(e.TgZ(0,"div",21),e._UZ(1,"i",23),e.qZA())}function K(r,o){1&r&&(e.TgZ(0,"p",24),e._uU(1,"Username is required"),e.qZA())}function L(r,o){1&r&&(e.TgZ(0,"p",24),e._uU(1,"Email is required"),e.qZA())}function D(r,o){1&r&&(e.TgZ(0,"p",24),e._uU(1,"Enter your new password"),e.qZA())}const c=function(r){return{"border border-danger text-danger":r}},g=function(r){return{"border border-danger":r}},G=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user"]],decls:1,vars:0,template:function(n,t){1&n&&e._UZ(0,"router-outlet")},dependencies:[l.lC]}),r})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:F},{path:"edit/:ui",component:A},{path:"create",component:(()=>{class r{constructor(n,t){this.us=n,this.router=t,this.validationForm=new i.cw({username:new i.NI(null,i.kI.required),email:new i.NI(null,i.kI.required),password:new i.NI(null,i.kI.required),address:new i.NI(null,i.kI.required),city:new i.NI(null),country:new i.NI(null)})}ngOnInit(){}onCreateUser(){this.us.createUser(this.validationForm.value).subscribe(n=>{console.log(n)},n=>{console.log(n)},()=>{console.log("Done creating todo."),setTimeout(()=>{this.router.navigate(["/dashboard/"])},5e3)})}onSubmit(){this.onCreateUser(),console.log(this.validationForm.value)}get username(){return this.validationForm.get("username")}get email(){return this.validationForm.get("email")}get password(){return this.validationForm.get("password")}get address(){return this.validationForm.get("address")}get city(){return this.validationForm.get("city")}get country(){return this.validationForm.get("country")}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(u.K),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-create"]],decls:41,vars:28,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text",3,"ngClass"],["type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1","formControlName","username","mdbValidate","","mdbInput","","required","",1,"form-control",3,"ngClass"],["class","m-1",4,"ngIf"],[1,"fa","fa-envelope"],["type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon1","formControlName","email","mdbValidate","","mdbInput","","required","",1,"form-control",3,"ngClass"],[1,"fa","fa-lock"],["type","password","placeholder","password","aria-label","Password","aria-describedby","basic-addon1","formControlName","password","mdbValidate","","mdbInput","","required","",1,"form-control",3,"ngClass"],["id","basic-addon1",1,"input-group-text"],[1,"fa","fa-map-marker"],["type","text","placeholder","Address","aria-label","Address","aria-describedby","basic-addon1","formControlName","address","mdbValidate","",1,"form-control"],[1,"fa","fa-map"],["type","text","placeholder","City","aria-label","City","aria-describedby","basic-addon1","formControlName","city","mdbValidate","",1,"form-control"],[1,"far","fa-map"],["type","text","placeholder","Country","aria-label","Country","aria-describedby","basic-addon1","formControlName","country","mdbValidate","",1,"form-control"],[1,"col-12"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-4"],[1,"m-1"],[1,"fa","fa-close","text-danger"],[1,"fa","fa-check","text-success"],[1,"text-danger"]],template:function(n,t){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"@"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,Q,2,0,"div",6),e.YNc(8,S,2,0,"div",6),e.qZA(),e.TgZ(9,"div",3)(10,"span",4),e._UZ(11,"i",7),e.qZA(),e._UZ(12,"input",8),e.YNc(13,k,2,0,"div",6),e.YNc(14,Y,2,0,"div",6),e.qZA(),e.TgZ(15,"div",3)(16,"span",4),e._UZ(17,"i",9),e.qZA(),e._UZ(18,"input",10),e.YNc(19,E,2,0,"div",6),e.YNc(20,V,2,0,"div",6),e.qZA()(),e.TgZ(21,"div",2)(22,"div",3)(23,"span",11),e._UZ(24,"i",12),e.qZA(),e._UZ(25,"input",13),e.qZA(),e.TgZ(26,"div",3)(27,"span",11),e._UZ(28,"i",14),e.qZA(),e._UZ(29,"input",15),e.qZA(),e.TgZ(30,"div",3)(31,"span",11),e._UZ(32,"i",16),e.qZA(),e._UZ(33,"input",17),e.qZA()()(),e.TgZ(34,"div",1)(35,"div",18),e.YNc(36,K,2,0,"p",19),e.YNc(37,L,2,0,"p",19),e.YNc(38,D,2,0,"p",19),e.qZA()(),e.TgZ(39,"button",20),e._uU(40,"Save"),e.qZA()()),2&n&&(e.Q6J("formGroup",t.validationForm),e.xp6(4),e.Q6J("ngClass",e.VKq(16,c,t.username.invalid&&(t.username.dirty||t.username.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(18,g,t.username.invalid&&(t.username.dirty||t.username.touched))),e.xp6(1),e.Q6J("ngIf",t.username.invalid&&(t.username.dirty||t.username.touched)),e.xp6(1),e.Q6J("ngIf",t.username.valid&&(t.username.dirty||t.username.touched)),e.xp6(2),e.Q6J("ngClass",e.VKq(20,c,t.email.invalid&&(t.email.dirty||t.email.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(22,g,t.email.invalid&&(t.email.dirty||t.email.touched))),e.xp6(1),e.Q6J("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)),e.xp6(1),e.Q6J("ngIf",t.email.valid&&(t.email.dirty||t.email.touched)),e.xp6(2),e.Q6J("ngClass",e.VKq(24,c,t.password.invalid&&(t.password.dirty||t.password.touched))),e.xp6(2),e.Q6J("ngClass",e.VKq(26,g,t.password.invalid&&(t.password.dirty||t.password.touched))),e.xp6(1),e.Q6J("ngIf",t.password.invalid&&(t.password.dirty||t.password.touched)),e.xp6(1),e.Q6J("ngIf",t.password.valid&&(t.password.dirty||t.password.touched)),e.xp6(16),e.Q6J("ngIf",t.username.invalid&&(t.username.dirty||t.username.touched)),e.xp6(1),e.Q6J("ngIf",t.email.invalid&&(t.email.dirty||t.email.touched)),e.xp6(1),e.Q6J("ngIf",t.password.invalid&&(t.password.dirty||t.password.touched)))},dependencies:[d.mk,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),r})()},{path:"delete/:ui",component:v}]}];let M=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(G),l.Bz]}),r})(),O=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,M,i.UX]}),r})()}}]);